import{a as p,o as a,a6 as s,b as r,w as c,V as m,a7 as f,S as y,d,g as t,P as _,a8 as h,a9 as n}from"./index.01c9f2a1.js";import{V}from"./VDivider.345092ba.js";import{V as g}from"./VTable.5c39b414.js";const w={id:"orders"},x=t("h1",{class:"text-center"},"\u8A02\u55AE",-1),k=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u65E5\u671F"),t("th",null,"\u4F7F\u7528\u8005"),t("th",null,"\u91D1\u984D"),t("th",null,"\u5546\u54C1")])],-1),D={key:1},S=t("td",{colspan:"5"},[t("h3",{class:"text-center"},"\u6C92\u6709\u8A02\u55AE")],-1),v=[S],L={__name:"OrdersView",setup(B){const i=p([]);return(async()=>{try{const{data:o}=await f.get("/orders/all");i.push(...o.result.map(u=>(u.totalPrice=u.products.reduce((e,l)=>e+l.product.price*l.quantity,0),u)))}catch(o){console.log(o),y.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(o,u)=>(a(),s("div",w,[r(m,null,{default:c(()=>[r(d,{cols:"12"},{default:c(()=>[x]),_:1}),r(V),r(d,{cols:"12"},{default:c(()=>[r(g,null,{default:c(()=>[k,t("tbody",null,[i.length>0?(a(!0),s(_,{key:0},h(i,e=>(a(),s("tr",{key:e._id},[t("td",null,n(e._id),1),t("td",null,n(new Date(e.date).toLocaleDateString()),1),t("td",null,n(e.user.account),1),t("td",null,n(e.totalPrice),1),t("td",null,[t("ul",null,[(a(!0),s(_,null,h(e.products,l=>(a(),s("li",{key:l._id},n(l.product.name)+" x "+n(l.quantity),1))),128))])])]))),128)):(a(),s("tr",D,v))])]),_:1})]),_:1})]),_:1})]))}};export{L as default};
