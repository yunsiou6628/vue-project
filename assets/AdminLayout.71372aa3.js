import{aE as Z,aF as q,Z as U,l as y,r as C,j,aG as F,aH as Q,aI as G,aJ as J,ac as K,m as ee,p as te,aK as ae,k as ne,t as V,aL as oe,aM as ie,aN as re,az as le,v as ue,aO as se,x as N,Y as ve,aP as ce,q as de,n as H,b as l,Q as he,aC as ge,P as Y,a5 as me,aQ as fe,aR as we,o as be,a6 as ye,w as B,aS as xe,X as W,aT as _e}from"./index.01c9f2a1.js";import{V as D,a as P}from"./VList.60218339.js";import{V as pe}from"./VDivider.345092ba.js";const Ee=100,Me=20;function O(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function X(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let d=e.length-1;d>0;d--){if(e[d].t===e[d-1].t)continue;const t=O(s),g=(e[d].d-e[d-1].d)/(e[d].t-e[d-1].t);s+=(g-t)*Math.abs(g),d===e.length-1&&(s*=.5)}return O(s)*1e3}function Te(){const e={};function s(g){Array.from(g.changedTouches).forEach(a=>{var u;((u=e[a.identifier])!=null?u:e[a.identifier]=new Z(Me)).push([g.timeStamp,a])})}function d(g){Array.from(g.changedTouches).forEach(a=>{delete e[a.identifier]})}function t(g){var a;const u=(a=e[g])==null?void 0:a.values().reverse();if(!u)throw new Error(`No samples for touch id ${g}`);const x=u[0],M=[],p=[];for(const v of u){if(x[0]-v[0]>Ee)break;M.push({t:v[0],d:v[1].clientX}),p.push({t:v[0],d:v[1].clientY})}return{x:X(M),y:X(p),get direction(){const{x:v,y:m}=this,[i,h]=[Math.abs(v),Math.abs(m)];return i>h&&v>=0?"right":i>h&&v<=0?"left":h>i&&m>=0?"down":h>i&&m<=0?"up":ke()}}}return{addMovement:s,endTouch:d,getVelocity:t}}function ke(){throw new Error}function Se(e){let{isActive:s,isTemporary:d,width:t,touchless:g,position:a}=e;q(()=>{window.addEventListener("touchstart",R,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",S,{passive:!0})}),U(()=>{window.removeEventListener("touchstart",R),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",S)});const u=y(()=>a.value!=="bottom"),{addMovement:x,endTouch:M,getVelocity:p}=Te();let v=!1;const m=C(!1),i=C(0),h=C(0);let k;function E(n,r){return(a.value==="left"?n:a.value==="right"?document.documentElement.clientWidth-n:a.value==="bottom"?document.documentElement.clientHeight-n:T())-(r?t.value:0)}function w(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=a.value==="left"?(n-h.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-n-h.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-n-h.value)/t.value:T();return r?Math.max(0,Math.min(1,o)):o}function R(n){if(g.value)return;const r=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,f=25,b=a.value==="left"?r<f:a.value==="right"?r>document.documentElement.clientWidth-f:a.value==="bottom"?o>document.documentElement.clientHeight-f:T(),c=s.value&&(a.value==="left"?r<t.value:a.value==="right"?r>document.documentElement.clientWidth-t.value:a.value==="bottom"?o>document.documentElement.clientHeight-t.value:T());(b||c||s.value&&d.value)&&(v=!0,k=[r,o],h.value=E(u.value?r:o,s.value),i.value=w(u.value?r:o),M(n),x(n))}function _(n){const r=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY;if(v){if(!n.cancelable){v=!1;return}const b=Math.abs(r-k[0]),c=Math.abs(o-k[1]);(u.value?b>c&&b>3:c>b&&c>3)?(m.value=!0,v=!1):(u.value?c:b)>3&&(v=!1)}if(!m.value)return;n.preventDefault(),x(n);const f=w(u.value?r:o,!1);i.value=Math.max(0,Math.min(1,f)),f>1?h.value=E(u.value?r:o,!0):f<0&&(h.value=E(u.value?r:o,!1))}function S(n){if(v=!1,!m.value)return;x(n),m.value=!1;const r=p(n.changedTouches[0].identifier),o=Math.abs(r.x),f=Math.abs(r.y);(u.value?o>f&&o>400:f>o&&f>3)?s.value=r.direction===({left:"right",right:"left",bottom:"up"}[a.value]||T()):s.value=i.value>.5}const $=y(()=>m.value?{transform:a.value==="left"?`translateX(calc(-100% + ${i.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${i.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${i.value*t.value}px))`:T(),transition:"none"}:void 0);return{isDragging:m,dragProgress:i,dragStyles:$}}function T(){throw new Error}const Ve=j({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:72},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"left",validator:e=>["left","right","bottom"].includes(e)},...F(),...Q(),...G(),...J(),...K({tag:"nav"}),...ee()},emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:d,slots:t}=s;const{themeClasses:g}=te(e),{borderClasses:a}=ae(e),{backgroundColorClasses:u,backgroundColorStyles:x}=ne(V(e,"color")),{elevationClasses:M}=oe(e),{mobile:p}=ie(),{roundedClasses:v}=re(e),m=le(),i=ue(e,"modelValue",null,c=>!!c),h=C(!1),{ssrBootStyles:k}=se(),E=y(()=>e.rail&&e.expandOnHover&&h.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=y(()=>!e.permanent&&(p.value||e.temporary));e.disableResizeWatcher||N(w,c=>!e.permanent&&(i.value=!c)),!e.disableRouteWatcher&&m&&N(m.currentRoute,()=>w.value&&(i.value=!1)),N(()=>e.permanent,c=>{c&&(i.value=!0)}),ve(()=>{e.modelValue!=null||w.value||(i.value=e.permanent||!p.value)});const R=C(),{isDragging:_,dragProgress:S,dragStyles:$}=Se({isActive:i,isTemporary:w,width:E,touchless:V(e,"touchless"),position:V(e,"location")}),n=y(()=>{const c=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return _.value?c*S.value:c}),{layoutItemStyles:r,layoutRect:o,layoutItemScrimStyles:f}=ce({id:e.name,order:y(()=>parseInt(e.order,10)),position:V(e,"location"),layoutSize:n,elementSize:E,active:y(()=>i.value||_.value),disableTransitions:y(()=>_.value),absolute:V(e,"absolute")}),b=y(()=>({..._.value?{opacity:S.value*.2,transition:"none"}:void 0,...o.value?{left:H(o.value.left),right:H(o.value.right),top:H(o.value.top),bottom:H(o.value.bottom)}:void 0,...f.value}));return de(()=>{var c,L,z,I;const A=t.image||e.image;return l(Y,null,[l(e.tag,he({ref:R,onMouseenter:()=>h.value=!0,onMouseleave:()=>h.value=!1,class:["v-navigation-drawer",{"v-navigation-drawer--bottom":e.location==="bottom","v-navigation-drawer--end":e.location==="right","v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":h.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--start":e.location==="left","v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":i.value},g.value,u.value,a.value,M.value,v.value],style:[x.value,r.value,$.value,k.value]},d),{default:()=>[A&&l("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(c=t.image)==null?void 0:c.call(t,{image:e.image}):l("img",{src:e.image,alt:""},null)]),t.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(L=t.prepend)==null?void 0:L.call(t)]),l("div",{class:"v-navigation-drawer__content"},[(z=t.default)==null?void 0:z.call(t)]),t.append&&l("div",{class:"v-navigation-drawer__append"},[(I=t.append)==null?void 0:I.call(t)])]}),l(ge,{name:"fade-transition"},{default:()=>[w.value&&(_.value||i.value)&&l("div",{class:"v-navigation-drawer__scrim",style:b.value,onClick:()=>i.value=!1},null)]})])}),{}}}),He={__name:"AdminLayout",setup(e){const s=me(),{avatar:d,account:t}=fe(s);return(g,a)=>{const u=we("router-view");return be(),ye(Y,null,[l(Ve,{"expand-on-hover":"",rail:"",permanent:""},{default:B(()=>[l(D,null,{default:B(()=>[l(P,{"prepend-avatar":W(d),title:W(t)},null,8,["prepend-avatar","title"])]),_:1}),l(pe),l(D,null,{default:B(()=>[l(P,{to:"/admin/products",title:"\u5546\u54C1\u7BA1\u7406","prepend-icon":"mdi-shopping"}),l(P,{to:"/admin/orders",title:"\u8A02\u55AE\u7BA1\u7406","prepend-icon":"mdi-format-list-checkbox"}),l(P,{to:"/",title:"\u56DE\u524D\u53F0","prepend-icon":"mdi-home"})]),_:1})]),_:1}),l(xe,null,{default:B(()=>[l(_e,null,{default:B(()=>[l(u)]),_:1})]),_:1})],64)}}};export{He as default};
